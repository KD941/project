<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
        async function getroles()
        {  

          const res = await fetch("http://127.0.0.1:8000/user/roles",
                {
              
                    headers: {
                        "Content-Type": "application/json",
                        token: localStorage.getItem("token")
                    },
                  
            }) 
            const data =  res.json();
                console.log("Server response:", data);
                if (!data.admin === true) {
                    document.getElementById("ADMIN").style.display = "none";
                   
                } else if (!data.team_owner=== true) {
                    
                    document.getElementById("TEAM").style.display = "none";
                } else if (data.team_owner === true)
                {
                    const owner = document.getElementById("TEAM_O");
                    owner.href = "manage_team.html?id=" + data.team_id;
                }
            }

    
        getroles();
    </script>
</head>

<body>
    <div class="center">
   <a href="players.html" style="text-decoration: none;"> <div id="common1" class="card" style="width: 18rem;">
        <div class="card-body">
            <h5 class="card-title">common page 1</h5>
            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
                content.</p>
           
        </div>
    </div></a>
<a href="team.html"style="text-decoration: none;">
    <div id="common1" class="card" style="width: 18rem;">
        <div class="card-body">
            <h5 class="card-title">common page 2</h5>
            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
                content.</p>
           
        </div>
    </div>
    </a>
    <a id="TEAM_O" href="manage_team.html">
    <div id="TEAM" class="card" style="width: 18rem;">
        <div class="card-body">
            <h5 class="card-title">Card for team owner</h5>
            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
                content.</p>
        
        </div>
    </div></a>
    <a>
    <div id="ADMIN" class="card" style="width: 18rem;">
        <div class="card-body">
            <h5 class="card-title">Card for admin</h5>
            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
                content.</p>
         
        </div>
    </div></a>
</div>
</body>

</html>